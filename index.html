<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Calendrier de l'Avent de XaviÃ¨re</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    :root {
      --bg: #7f1d1d;
      --bg-soft: #991b1b;
      --card: #fee2e2;
      --accent: #b91c1c;
      --accent-soft: rgba(248, 113, 113, 0.25);
      --text: #111827;
      --muted: #6b7280;
      --danger: #b91c1c;
      --radius-lg: 18px;
      --radius-xl: 26px;
      --shadow-soft: 0 18px 40px rgba(0, 0, 0, 0.45);
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #b91c1c 0, #450a0a 45%, #111827 100%);
      color: var(--text);
      min-height: 100vh;
      display: flex;
      align-items: stretch;
      justify-content: center;
      position: relative;
      overflow-x: hidden;
    }

    /* Couche de neige */
    .snow-layer {
      position: fixed;
      inset: 0;
      pointer-events: none;
      overflow: hidden;
      z-index: 0;
    }

    .snowflake {
      position: absolute;
      top: -10vh;
      color: #f9fafb;
      opacity: 0.8;
      will-change: transform, opacity;
      filter: drop-shadow(0 0 4px rgba(255, 255, 255, 0.6));
      animation-name: snow-fall;
      animation-timing-function: linear;
      animation-iteration-count: infinite;
    }

    @keyframes snow-fall {
      0% {
        transform: translateY(-10vh) translateX(0);
        opacity: 0;
      }
      10% {
        opacity: 1;
      }
      100% {
        transform: translateY(110vh) translateX(40px);
        opacity: 0;
      }
    }

    .page {
      width: 100%;
      max-width: 1100px;
      padding: 24px 16px 40px;
      margin: 0 auto;
      position: relative;
      z-index: 1; /* au-dessus de la neige */
    }

    header {
      text-align: center;
      margin-bottom: 24px;
      color: #f9fafb;
    }

    header h1 {
      font-size: clamp(2rem, 3vw, 2.6rem);
      margin: 0 0 8px;
      letter-spacing: 0.05em;
      text-transform: uppercase;
    }

    header h1 span {
      color: #facc15;
    }

    header p {
      margin: 0;
      color: #fde68a;
      font-size: 0.98rem;
    }

    .tagline {
      margin-top: 8px;
      font-size: 0.9rem;
      color: #fefce8;
    }

    .calendar-wrapper {
      background: linear-gradient(145deg, rgba(248, 250, 252, 0.95), rgba(254, 226, 226, 0.98));
      border-radius: var(--radius-xl);
      border: 1px solid rgba(248, 113, 113, 0.5);
      padding: 18px 16px 22px;
      box-shadow: var(--shadow-soft);
      position: relative;
      overflow: hidden;
    }

    .calendar-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
      padding-inline: 4px;
      gap: 12px;
      flex-wrap: wrap;
    }

    .calendar-title {
      font-weight: 600;
      font-size: 1rem;
      display: flex;
      align-items: center;
      gap: 8px;
      color: #991b1b;
    }

    .calendar-title span.icon {
      font-size: 1.1rem;
    }

    .calendar-subtitle {
      font-size: 0.85rem;
      color: var(--muted);
    }

    .calendar {
      display: grid;
      grid-template-columns: repeat(6, minmax(0, 1fr));
      gap: 10px;
      margin-top: 10px;
    }

    @media (max-width: 800px) {
      .calendar {
        grid-template-columns: repeat(4, minmax(0, 1fr));
      }
    }

    @media (max-width: 540px) {
      .calendar {
        grid-template-columns: repeat(3, minmax(0, 1fr));
      }
    }

    .day-card {
      position: relative;
      background: radial-gradient(circle at top, rgba(248, 250, 252, 0.9), rgba(254, 226, 226, 0.95));
      border-radius: 18px;
      border: 1px solid rgba(252, 165, 165, 0.8);
      padding: 10px 9px;
      min-height: 80px;
      color: var(--text);
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      cursor: pointer;
      text-align: left;
      transition: transform 0.12s ease-out, box-shadow 0.12s ease-out, border-color 0.12s ease-out, background 0.12s ease-out;
      font-size: 0.82rem;
    }

    .day-card:hover:not(.locked) {
      transform: translateY(-2px);
      box-shadow: 0 18px 40px rgba(248, 113, 113, 0.55);
      border-color: rgba(220, 38, 38, 0.9);
    }

    .day-header {
      display: flex;
      align-items: baseline;
      justify-content: space-between;
      gap: 4px;
      margin-bottom: 4px;
    }

    .day-number {
      font-weight: 700;
      font-size: 1.2rem;
      color: #b91c1c;
    }

    .day-label {
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: white;
      background: #b91c1c;
      padding: 2px 7px;
      border-radius: 999px;
    }

    .day-title {
      font-size: 0.78rem;
      color: #374151;
      margin: 0;
    }

    .day-foot {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 6px;
    }

    .day-type {
      font-size: 0.72rem;
      color: var(--muted);
    }

    .day-icon {
      font-size: 1rem;
      transition: transform 0.12s ease-out;
    }

    .day-card:hover:not(.locked) .day-icon {
      animation: reindeerWiggle 0.6s ease-in-out infinite alternate;
    }

    @keyframes reindeerWiggle {
      0% {
        transform: translateY(0) rotate(0deg);
      }
      50% {
        transform: translateY(-2px) rotate(-4deg);
      }
      100% {
        transform: translateY(1px) rotate(3deg);
      }
    }

    .locked {
      border-style: dashed;
      border-color: rgba(248, 113, 113, 0.9);
      background: radial-gradient(circle at bottom, #fee2e2, #fecaca);
      cursor: default;
      opacity: 0.95;
    }

    .locked .day-title {
      color: #9ca3af;
    }

    .locked .day-label {
      color: #fecaca;
      background: #881337;
    }

    .locked .day-foot .day-type {
      color: #9ca3af;
    }

    .locked .day-icon {
      opacity: 0.75;
      animation: none;
    }

    .legend {
      margin-top: 14px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 10px;
      flex-wrap: wrap;
      font-size: 0.78rem;
      color: var(--muted);
    }

    .legend-dot {
      width: 5px;
      height: 5px;
      border-radius: 999px;
      margin-right: 4px;
      background: #b91c1c;
      display: inline-block;
    }

    .legend-item {
      display: inline-flex;
      align-items: center;
      margin-right: 8px;
    }

    .note-debug {
      margin-top: 6px;
      font-size: 0.75rem;
      color: var(--muted);
      opacity: 0.9;
    }

    .note-debug strong {
      color: #374151;
    }

    /* Modal */

    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(15, 23, 42, 0.84);
      display: none;
      align-items: center;
      justify-content: center;
      padding: 16px;
      z-index: 40;
    }

    .modal-backdrop.visible {
      display: flex;
    }

    .modal {
      background: radial-gradient(circle at top, rgba(254, 226, 226, 0.95), rgba(254, 249, 195, 0.98));
      border-radius: 22px;
      max-width: 560px;
      width: 100%;
      border: 1px solid rgba(248, 113, 113, 0.8);
      box-shadow: var(--shadow-soft);
      padding: 18px 18px 16px;
      position: relative;
      max-height: min(520px, 90vh);
      display: flex;
      flex-direction: column;
      color: #111827;
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 10px;
      margin-bottom: 8px;
    }

    .modal-title-block {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .modal-pill {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-size: 0.78rem;
      padding: 3px 9px 3px 5px;
      border-radius: 999px;
      background: #b91c1c;
      border: 1px solid #fecaca;
      color: #fee2e2;
    }

    .modal-pill span.icon {
      font-size: 0.9rem;
    }

    .modal-title {
      font-size: 1.05rem;
      font-weight: 600;
      color: #7f1d1d;
    }

    .modal-close {
      border: none;
      background: rgba(248, 250, 252, 0.9);
      color: #6b7280;
      border-radius: 999px;
      width: 28px;
      height: 28px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 1rem;
      transition: background 0.12s ease-out, color 0.12s ease-out, transform 0.08s ease-out;
    }

    .modal-close:hover {
      background: #fecaca;
      color: #7f1d1d;
      transform: translateY(-1px);
    }

    .modal-body {
      font-size: 0.9rem;
      color: #111827;
      margin-top: 4px;
      padding-right: 4px;
      overflow-y: auto;
    }

    .modal-body p {
      margin-top: 0;
      margin-bottom: 10px;
    }

    .modal-body ul {
      margin-top: 0;
      padding-left: 18px;
      margin-bottom: 8px;
    }

    .modal-body strong {
      color: #b91c1c;
    }

    .modal-footer {
      margin-top: 10px;
      font-size: 0.78rem;
      color: #6b7280;
      display: flex;
      justify-content: space-between;
      gap: 10px;
      align-items: center;
      flex-wrap: wrap;
    }

    .modal-footer a {
      color: #b91c1c;
      text-decoration: none;
    }

    .modal-footer a:hover {
      text-decoration: underline;
    }

    .pill-type {
      font-size: 0.76rem;
      padding: 2px 8px;
      border-radius: 999px;
      background: var(--accent-soft);
      color: #b91c1c;
    }

    .pill-type.message {
      background: rgba(59, 130, 246, 0.14);
      color: #1d4ed8;
    }

    .pill-type.souvenir {
      background: rgba(16, 185, 129, 0.14);
      color: #059669;
    }

    .pill-type.defi {
      background: rgba(244, 114, 182, 0.14);
      color: #db2777;
    }

    .pill-type.chiens {
      background: rgba(96, 165, 250, 0.14);
      color: #2563eb;
    }

    .pill-type.cadeau {
      background: rgba(234, 179, 8, 0.18);
      color: #b45309;
    }

    .pill-type.final {
      background: rgba(248, 250, 252, 0.3);
      color: #7f1d1d;
    }
  </style>
</head>
<body>
  <!-- Neige -->
  <div class="snow-layer" id="snowLayer"></div>

  <div class="page">
    <header>
      <h1>Calendrier de l'Avent de <span>XaviÃ¨re</span></h1>
      <p>24 petites surprises pour cÃ©lÃ©brer l'amour, la complicitÃ© et la magie de dÃ©cembre.</p>
      <div class="tagline">Chaque jour, une case. Chaque case, un morceau de nous. ğŸ’›</div>
    </header>

    <main>
      <section class="calendar-wrapper">
        <div class="calendar-header">
          <div class="calendar-title">
            <span class="icon">ğŸ„</span>
            <span>DÃ©cembre 2025 &nbsp;â€¢&nbsp; 24 jours de surprises</span>
          </div>
          <div class="calendar-subtitle">
            Clique sur la case du jour pour dÃ©couvrir ta surprise.
          </div>
        </div>

        <div id="calendar" class="calendar"></div>

        <div class="legend">
          <div>
            <span class="legend-item"><span class="legend-dot"></span>Message / souvenir / dÃ©fi du jour</span>
            <span class="legend-item">ğŸ”’ Case encore fermÃ©e si on nâ€™y est pas encore</span>
          </div>
        </div>
        <div class="note-debug">
          <strong>Note technique :</strong> les cases futures de dÃ©cembre se verrouillent automatiquement.
          Pour tout tester dâ€™un coup, tu peux mettre <code>debugAlwaysOpen = true</code> dans le script.
        </div>
      </section>
    </main>
  </div>

  <!-- Modal -->
  <div id="modalBackdrop" class="modal-backdrop" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <div class="modal-header">
        <div class="modal-title-block">
          <div class="modal-pill">
            <span class="icon">âœ¨</span>
            <span id="modalDayLabel">Jour 1</span>
          </div>
          <div id="modalTitle" class="modal-title">Titre</div>
        </div>
        <button class="modal-close" type="button" id="modalCloseBtn" aria-label="Fermer">
          âœ•
        </button>
      </div>
      <div id="modalBody" class="modal-body"></div>
      <div class="modal-footer">
        <span id="modalTypePill" class="pill-type">Type</span>
        <span>Avec amour, Jean-Marc ğŸ’›</span>
      </div>
    </div>
  </div>

  <script>
    // -------- PARAMÃˆTRES --------
    const debugAlwaysOpen = false; // passe Ã  true si tu veux tout tester

    const daysData = [
      {
        day: 1,
        title: "Bienvenue dans ton calendrier",
        type: "message",
        icon: "ğŸ’Œ",
        html: `
          <p>Mon amour,</p>
          <p>On dÃ©marre ce calendrier rien que pour toi. Chaque jour de dÃ©cembre, tu trouveras ici une pensÃ©e, un souvenir, un sourire ou un petit dÃ©fi Ã  partager ensemble.</p>
          <p>Lâ€™idÃ©e est simple : <strong>te rappeler chaque jour Ã  quel point tu comptes pour moi</strong>, mÃªme au milieu du bazar du quotidien.</p>
          <p>
            Pour accompagner ce premier jour, je tâ€™ai prÃ©parÃ© un petit message audio rien que pour toi.<br>
            <a href="https://drive.google.com/file/d/1FlCbWq19PA_gqKScQ_82C9p5VwisBc52/view?usp=sharing" target="_blank" rel="noopener" style="
              display:inline-block;
              margin-top:8px;
              padding:6px 12px;
              border-radius:999px;
              background:#b91c1c;
              color:#fefce8;
              font-size:0.85rem;
              text-decoration:none;
            ">
              ğŸ§ Ã‰couter le message du jour
            </a>
          </p>
          <p><em>On commence en douceurâ€¦ le reste arrive au fil des jours.</em></p>
        `
      },
      {
        day: 2,
        title: "Un souvenir qui me fait sourire",
        type: "souvenir",
        icon: "ğŸ“¸",
        html: `
          <p>Aujourdâ€™hui, jâ€™ai envie de remettre quelques souvenirs au premier plan.</p>
          <p>Pas forcÃ©ment que des grands moments, parfois juste quelques dÃ©tails qui restent.</p>
          <p>Jâ€™ai rassemblÃ© quelques photos qui, pour moi, racontent un morceau de nous : des instants simples, un peu de nostalgie, un peu de lumiÃ¨re, et beaucoup de douceur.</p>
          <p>
            <a href="https://drive.google.com/drive/folders/1OQQLYbW5N9r5bWy_iJ4lQ00vKLIHKozL?usp=sharing" target="_blank" rel="noopener" style="
              display:inline-block;
              margin-top:6px;
              padding:6px 12px;
              border-radius:999px;
              background:#ea580c;
              color:#fff7ed;
              font-size:0.85rem;
              text-decoration:none;
            ">
              ğŸ“¸ Ouvrir lâ€™album du jour
            </a>
          </p>
        `
      },
      {
        day: 3,
        title: "DÃ©fi cocooning",
        type: "defi",
        icon: "ğŸ•¯ï¸",
        html: `
          <p>Aujourdâ€™hui, je te propose un petit dÃ©fi cocooning.</p>
          <p>Ce soir, on se bloque un vrai moment rien que pour nous, sans notifications, sans â€œil faut queâ€¦â€, sans culpabilitÃ©.</p>
          <p>Tu peux piocher dans quelques idÃ©es que je tâ€™ai prÃ©parÃ©es :</p>
          <ul>
            <li>Films ou sÃ©ries Ã  regarder ensemble, sans autre Ã©cran en parallÃ¨le.</li>
            <li>Ambiance Ã  installer : lumiÃ¨re douce, plaid, boisson, position confortable.</li>
            <li>Petit rituel pour vraiment dÃ©brancher quelques instants.</li>
          </ul>
          <p>
            <a href="https://drive.google.com/file/d/10-d-k7yXdt7OOjWlumm0H5EbEFeqWwEi/view?usp=sharing" target="_blank" rel="noopener" style="
              display:inline-block;
              margin-top:4px;
              padding:6px 12px;
              border-radius:999px;
              background:#16a34a;
              color:#ecfdf3;
              font-size:0.85rem;
              text-decoration:none;
            ">
              ğŸ•¯ï¸ DÃ©couvrir la surprise cocooning
            </a>
          </p>
          <p><em>Le but, ce nâ€™est pas de faire quelque chose dâ€™extraordinaire, juste de se fabriquer un moment doux au milieu du reste.</em></p>
        `
      },
      {
        day: 4,
        title: "Une qualitÃ© que jâ€™admire chez toi",
        type: "message",
        icon: "ğŸŒŸ",
        html: `
          <p>Aujourdâ€™hui, jâ€™ai envie de mettre en lumiÃ¨re une qualitÃ© que tu sous-estimes souvent :
          <br><strong>ta capacitÃ© Ã  tenir debout alors que tu portes mille choses Ã  la fois.</strong></p>

          <p>Tu changes de poste, tu gÃ¨res deux Ã©quipes en mÃªme temps,
          tu quittes un groupe que tu aimes, tu en reprends un autre qui nâ€™est pas simpleâ€¦ et malgrÃ© tout Ã§a, tu avances.</p>

          <p>En mÃªme temps, tu prÃ©pares NoÃ«l, tu accompagnes les enfants,
          tu tâ€™occupes de Lou & Alaska, de Krokmou, de Yoda, de tes cinq tortues,
          tu es prÃ©sente pour ta maman et pour RÃ©gisâ€¦</p>

          <p>Et tu trouves encore la force de donner, dâ€™aimer, dâ€™Ãªtre attentive,
          mÃªme quand personne ne voit tout ce que Ã§a te demande.</p>

          <p><strong>Je le vois, moi. Je le vois vraiment. Et jâ€™admire profondÃ©ment cette force-lÃ  chez toi.</strong></p>
        `
      },
      {
        day: 5,
        title: "Message de Lou & Krokmou",
        type: "chiens",
        icon: "ğŸ¾",
        html: `
          <p><strong>Message spÃ©cial des deux chouchous de la maison :</strong></p>

          <p><strong>Lou</strong>, la premiÃ¨re, lâ€™historique, celle qui tâ€™a choisie autant que tu lâ€™as choisie :<br>
          Â« Merci pour toutes les annÃ©es de douceur, de patience et de prÃ©sence.
          MÃªme quand je fais ma sensible ou ma maligne, je sais exactement oÃ¹ est ma place : juste Ã  cÃ´tÃ© de toi. Â»</p>

          <p><strong>Krokmou</strong>, ton chatounet, ton petit moteur Ã  ronrons du soir :<br>
          Â« Merci de me laisser me blottir contre toi la nuit.
          Je sens quand tu es fatiguÃ©e, quand tu cogites, quand tu doutesâ€¦ et je ronronne encore plus fort pour te tenir chaud dans la tÃªte et dans le cÅ“ur. Â»</p>

          <p>Lou et Krokmou nâ€™ont pas les mots, mais ils ont ce regard, cette prÃ©sence, cette faÃ§on dâ€™Ãªtre lÃ  sans rien demander.</p>

          <p><strong>Et aujourdâ€™hui, leur message tient en une phrase :<br>
          â€œOn tâ€™aime. Et on veille sur toi comme tu veilles sur nous.â€</strong></p>
        `
      },
      {
        day: 6,
        title: "Petit cadeau immatÃ©riel",
        type: "cadeau",
        icon: "ğŸ",
        html: `
          <p>Aujourdâ€™hui, je tâ€™offre un petit cadeau immatÃ©riel :<br>
          <strong>un bon pour une soirÃ©e oÃ¹ tu ne gÃ¨res rien, absolument rien.</strong></p>

          <p>Tu choisis le soir, et je mâ€™occupe de tout : repas, ambiance, rythme, logistiqueâ€¦  
          Tu nâ€™as quâ€™une seule mission : <strong>profiter</strong>.</p>

          <p>
            <a href="https://drive.google.com/file/d/1Fd9C-bncAVPEwtzoA8qmoEKbLLTStFQq/view?usp=sharing"
               target="_blank" rel="noopener"
               style="
                 display:inline-block;
                 margin-top:6px;
                 padding:6px 12px;
                 border-radius:999px;
                 background:#b91c1c;
                 color:#fff7ed;
                 font-size:0.85rem;
                 text-decoration:none;">
              ğŸ Ouvrir ton bon cadeau
            </a>
          </p>

          <p><em>Ce soir-lÃ , câ€™est toi la reine. ğŸ’›</em></p>
        `
      },
      {
        day: 7,
        title: "La chanson du jour",
        type: "souvenir",
        icon: "ğŸ¶",
        html: `
          <p>Aujourdâ€™hui, jâ€™avais envie de te partager une chanson.</p>

          <p>Pas une chanson au hasardâ€¦  
          Une chanson qui parle de la maniÃ¨re dont une femme peut transformer la vie dâ€™un homme.</p>

          <p><strong>â€œEt un jour, une femmeâ€ â€” Florent Pagny</strong></p>

          <p>Si en lâ€™Ã©coutant tu ressens un sourire, une Ã©motion ou un Ã©choâ€¦  
          câ€™est que ce choix Ã©tait le bon. ğŸ’›</p>

          <p>
            <a href="https://open.spotify.com/track/2Fo8TPJGFZZ7I9U2RGeZWu?si=WBUVkWIpQJ2Rbtfo9r3TEA"
               target="_blank" rel="noopener"
               style="
                 display:inline-block;
                 margin-top:6px;
                 padding:6px 12px;
                 border-radius:999px;
                 background:#b91c1c;
                 color:white;
                 text-decoration:none;
                 font-size:0.85rem;">
              ğŸ¶ Ã‰couter sur Spotify
            </a>
          </p>
        `
      },
      {
        day: 8,
        title: "Souvenir drÃ´le",
        type: "souvenir",
        icon: "ğŸ˜‚",
        html: `
          <p>Aujourdâ€™hui, jâ€™avais envie de revenir Ã  nos dÃ©butsâ€¦  
          Ã  cette pÃ©riode oÃ¹ je tâ€™Ã©crivais sous le nom trÃ¨s sÃ©rieux de <strong>GrÃ©gory White</strong> â€” ce mÃ©lange improbable entre Walter White et Gregory House qui, pourtant, a si bien fonctionnÃ© sur toi.</p>
          
          <p>Nos messages ont vite pris une tournureâ€¦ comment direâ€¦  
          <strong>crÃ©ative</strong>, dirons-nous.</p>
          
          <p>Entre les rendez-vous improvisÃ©s en campagne,  
          ceux un peu trop discrets derriÃ¨re une Ã©glise ou un vieux cimetiÃ¨re,  
          les escapades en voiture ou mÃªme en motoâ€¦  
          On avait notre petit univers.</p>
          
          <p>Et puis il y a eu <strong>ce jour-lÃ </strong>.  
          Celui oÃ¹ une photo a Ã©tÃ© prise, lâ€™air de rien,  
          Ã  un moment oÃ¹ personne ne savait encore pour nous,  
          sauf nous deux.</p>
          
          <p>Cette photo trÃ´ne maintenant dans lâ€™entrÃ©e,  
          sage, jolie, innocenteâ€¦  
          sauf pour ceux qui connaissent le secret derriÃ¨re le sourire.</p>
          
          <p><strong>Un souvenir drÃ´le, tendre et complÃ¨tement â€œnousâ€.  
          De ceux qui donnent envie de sourire rien quâ€™en y repensant. ğŸ’›</strong></p>
        `
      },
      {
        day: 9,
        title: "DÃ©fi massage",
        type: "defi",
        icon: "ğŸ’†â€â™€ï¸",
        html: `
          <p>Aujourdâ€™hui, tu gagnes un petit moment rien que pour toi :  
          <strong>10 minutes de massage</strong>, offert sans nÃ©gociation.</p>
          
          <p>Tu choisis la zone : nuque, Ã©paules, dos, mainsâ€¦  
          Tu me dis, je fais.</p>
          
          <p>Et puisâ€¦  
          si tu trouves que 10 minutes, câ€™est un peu courtâ€¦  
          on pourra sÃ»rement sâ€™arranger. ğŸ˜‰ğŸ’›</p>
        `
      },
      {
  day: 10,
  title: "Petit boost pour toi",
  type: "message",
  icon: "âš¡",
  html: `
    <p>Aujourdâ€™hui, jâ€™avais envie de tâ€™envoyer un petit boost â€”  
    mais pas pour te dire de â€œtenir bonâ€ ou â€œte reposerâ€.</p>

    <p>Au contraire.</p>

    <p><strong>Tu sais trÃ¨s bien prendre soin de toi quand il faut</strong>,  
    tu sais tâ€™Ã©couter, te poser, tâ€™isoler quand ton corps ou ta tÃªte le demandent.</p>

    <p>Câ€™est juste que ces derniÃ¨res semaines sont plus intenses,  
    avec ce nouveau poste, les Ã©quipes, les fÃªtes qui approchent,  
    et tout ce qui sâ€™enchaÃ®ne autour.</p>

    <p>Et malgrÃ© Ã§a, tu restes toi :  
    organisÃ©e, lucide, solide, pleine de ressources.</p>

    <p>Alors le boost du jour, il est simple :  
    <strong>je vois tout ce que tu gÃ¨res,  
    je sais que tu tâ€™adaptes,  
    et je suis lÃ  â€” pas pour te dire quoi faire,  
    juste pour tâ€™accompagner si tu en as envie.</strong> ğŸ’›</p>
  `
},
{
  day: 11,
  title: "Clin dâ€™Å“il projets & chantiers",
  type: "souvenir",
  icon: "ğŸ› ï¸",
  html: `
    <p>Aujourdâ€™hui, jâ€™avais envie de faire un clin dâ€™Å“il Ã  nos â€œprojetsâ€â€¦  
    mÃªme si, pour lâ€™instant, on nâ€™a pas encore de vrai projet matÃ©riel Ã  deux.</p>

    <p>On vit ensemble dans ma maison,  
    et tu en as fait ton foyer,  
    mais je sais que ce nâ€™est pas <em>ton</em> projet,  
    pas celui que tu as choisi ou construit.</p>

    <p>Pourtant, malgrÃ© Ã§a,  
    <strong>tu y mets de toi</strong>,  
    tu y apportes ta prÃ©sence,  
    ton Ã©nergie, ta faÃ§on de rendre les choses plus douces â€”  
    et Ã§a, câ€™est dÃ©jÃ  une vraie construction Ã  deux.</p>

    <p>Et puis il y a ce petit rÃªve dont tu mâ€™as parlÃ©â€¦  
    <strong>la piscine</strong>.</p>

    <p>MÃªme si ce nâ€™est pas pour tout de suite,  
    sache que je lâ€™ai gardÃ© dans un coin de ma tÃªte :  
    pas pour dire â€œouiâ€ maintenant,  
    mais parce que jâ€™aimerais, moi aussi,  
    quâ€™un jour on se dise :</p>

    <p><strong>Â« Ã‡a, on lâ€™a fait ensemble.  
    Câ€™est notre projet. Â»</strong></p>

    <p>Peut-Ãªtre pas maintenant.  
    Peut-Ãªtre pas demain.  
    Mais un peu plus tard, oui.</p>

    <p><strong>Et je trouve Ã§a beau dâ€™avoir des envies qui attendent leur moment. ğŸ’›</strong></p>
  `
},
{
  day: 12,
  title: "Un peu dâ€™humour",
  type: "message",
  icon: "ğŸ¤£",
  html: `
    <p>Aujourdâ€™hui, jâ€™avais envie de te proposer un dÃ©fi que tu rÃ©ussis naturellement,  
    et que moiâ€¦ je dois parfois un peu travailler :  
    <strong>rire vraiment.</strong></p>

    <p>Toi, tu as ce truc :  
    cette capacitÃ© Ã  tâ€™amuser, Ã  rire fort, Ã  te laisser porter par un moment lÃ©ger.  
    Ã‡a fait partie de ta faÃ§on dâ€™Ãªtre,  
    et Ã§a fait tellement de bien.</p>

    <p>Moi, je suis parfois un peu trop sÃ©rieux, trop â€œdans ma tÃªteâ€,  
    et tu me le rappelles gentiment :  
    <strong>que toi, tu as besoin de tâ€™amuser,  
    et que moi, jâ€™ai besoin de te suivre un peu plus dans cette Ã©nergie-lÃ .</strong></p>

    <p>Alors pour aujourdâ€™hui, je dÃ©crÃ¨te que ton rire est la prioritÃ© du jour.</p>

    <p><strong>Si tu ris, mÃªme juste un peuâ€¦  
    jâ€™aurai gagnÃ© ma journÃ©e. ğŸ˜„ğŸ’›</strong></p>
  `
},

     {
  day: 13,
  title: "Clin dâ€™Å“il complice",
  type: "message",
  icon: "âœ¨",
  html: `
    <p>Aujourdâ€™hui, pas de grande surprise, juste un clin dâ€™Å“il complice.</p>

    <p>Il y a des moments oÃ¹ je te regarde et je me dis :
    <strong>Â« Câ€™est quand mÃªme fou comme jâ€™ai de la chance que ce soit toi. Â»</strong></p>

    <p>Pas parce que tout est parfait,
    mais parce que câ€™est toi : vraie, entiÃ¨re, vivante, drÃ´le, et pleine de caractÃ¨re.</p>

    <p>Alors aujourdâ€™hui, je te demande juste une chose :
    <strong>viens me chercher un cÃ¢lin</strong> (mÃªme court).</p>

    <p>Sans raison. Juste parce que Ã§a fait du bien. ğŸ’›</p>
  `
},
{
  day: 14,
  title: "On sort ensemble ?",
  type: "defi",
  icon: "ğŸ’Œ",
  html: `
    <p>Aujourdâ€™hui, jâ€™ai envie de faire comme si on recommenÃ§ait.</p>

    <p>Comme au dÃ©but,
    quand on se demandait encore :
    <strong>Â« On se voit quand ? On va oÃ¹ ? Â»</strong></p>

    <p>Pas de logistique, pas de quotidien, pas dâ€™habitudes.
    Juste toi et moi, dehors, ensemble.</p>

    <p>Alors voilÃ  ma question du jour :
    <strong>est-ce que tu accepterais de sortir avec moi ?</strong></p>

    <p>MÃªme si câ€™est juste pour un moment.
    MÃªme si câ€™est simple.
    MÃªme si câ€™est juste nous. ğŸ’›</p>
  `
},
{
  day: 15,
  title: "Ta place, simplement",
  type: "message",
  icon: "ğŸ§©",
  html: `
    <p>Aujourdâ€™hui, jâ€™avais envie de parler de ta place.</p>

    <p>Pas celle quâ€™on attribue,
    pas celle quâ€™on impose,
    mais celle que tu prends naturellement.</p>

    <p>Tu nâ€™es pas arrivÃ©e ici pour â€œtâ€™installerâ€,
    ni pour transformer ma maison en autre chose.
    Tu es arrivÃ©e avec qui tu es,
    avec ta faÃ§on dâ€™Ãªtre, ton rythme, ton Ã©quilibre.</p>

    <p>Et ce que jâ€™aime profondÃ©ment,
    câ€™est que tu ne cherches pas Ã  forcer quoi que ce soit.
    Tu es lÃ , simplement.
    Juste, sincÃ¨rement.</p>

    <p>Ce foyer nâ€™est peut-Ãªtre pas nÃ© de toi,
    mais il est plus vivant depuis que tu y es.
    Pas parce que tu fais plus,
    mais parce que <strong>tu es lÃ </strong>, tout simplement.</p>

    <p><strong>Et Ã§a, pour moi, Ã§a compte Ã©normÃ©ment. ğŸ’›</strong></p>
  `
},
      {
  day: 16,
  title: "PrÃ©sence silencieuse",
  type: "souvenir",
  icon: "ğŸ–¼ï¸",
  html: `
    <p>Il y a des jours oÃ¹ on nâ€™a pas besoin de beaucoup de mots.</p>

    <p>Juste de savoir que lâ€™autre est lÃ ,<br>
    mÃªme Ã  distance.</p>

    <p><strong>Cette image, câ€™est Ã§a.</strong></p>

    <p>
      <a href="https://drive.google.com/file/d/1Yv5FZhrMNwkGYwzOwPuC32q2p9ABvf2q/view?usp=drivesdk"
         target="_blank" rel="noopener"
         style="
           display:inline-block;
           margin-top:8px;
           padding:6px 12px;
           border-radius:999px;
           background:#b91c1c;
           color:#fefce8;
           font-size:0.85rem;
           text-decoration:none;
         ">
        ğŸ–¼ï¸ Voir lâ€™image du jour
      </a>
    </p>

    <p><em>Un rappel discret que je pense Ã  toi, sans bruit, sans attente. ğŸ’›</em></p>
  `
},
{
  day: 17,
  title: "Souffler",
  type: "message",
  icon: "ğŸµ",
  html: `
    <p>Aujourdâ€™hui, je te propose juste de <strong>souffler</strong>.</p>

    <p>Pas longtemps.<br>
    Le temps dâ€™une musique.</p>

    <p>Tu lances le son,<br>
    tu respires,<br>
    et tu laisses le reste attendre un peu.</p>

    <p>Rien Ã  faire.<br>
    Rien Ã  rÃ©ussir. ğŸ’›</p>

    <p>
      <a href="https://open.spotify.com/track/0x8GIrcAO8msuslNoTKIXM?si=Tm09oKP4QEiVRVHwDhSxBg"
         target="_blank" rel="noopener"
         style="
           display:inline-block;
           margin-top:8px;
           padding:6px 12px;
           border-radius:999px;
           background:#b91c1c;
           color:#fefce8;
           font-size:0.85rem;
           text-decoration:none;
         ">
        ğŸµ Ã‰couter la musique du jour
      </a>
    </p>
  `
},
{
  day: 18,
  title: "Le relais",
  type: "souvenir",
  icon: "ğŸ¾",
  html: `
    <p>Cette semaine, je ne suis pas lÃ .</p>

    <p>Mais tu nâ€™es pas seule.</p>

    <p><strong>NaÃ«l</strong> est lÃ , avec son affection entiÃ¨re,
    celle qui ressemble tant Ã  <strong>Krokmou</strong> :
    prÃ©sente, constante, inconditionnelle.</p>

    <p><strong>Emmy</strong> est lÃ  aussi,
    avec sa douceur et son calme,
    ce mÃ©lange dâ€™amour tranquille et de prÃ©sence rassurante
    qui me fait penser Ã  <strong>Lou</strong>.</p>

    <p><strong>Alex</strong> est avec moi en dÃ©placement,
    mais je sais que vous Ãªtes bien entourÃ©s,
    chacun Ã  votre maniÃ¨re.</p>

    <p>Et puis il y a <strong>Alaska</strong>, <strong>Yoda</strong>,
    et les tortues qui rappellent que rien ne presse jamais vraiment. ğŸ¢</p>

    <p>Tu es entourÃ©e dâ€™amour,
    de prÃ©sence,
    et de liens simples mais solides.</p>

    <p><strong>Et Ã§aâ€¦ Ã§a me rassure profondÃ©ment. ğŸ’›</strong></p>
  `
},
      {
  day: 19,
  title: "Je suis revenu",
  type: "message",
  icon: "ğŸ”¥",
  html: `
    <p>Je suis revenu.</p>

    <p>Et jâ€™ai une envie trÃ¨s simple :
    <strong>te sentir contre moi.</strong></p>

    <p>Retrouver ta prÃ©sence,
    ta chaleur,
    ce contact qui rassure sans avoir besoin de mots.</p>

    <p>Tu mâ€™as manquÃ©.</p>

    <p>Et maintenant que je suis lÃ ,
    jâ€™ai juste envie de te retrouver,
    vraiment. ğŸ’›</p>
  `
},
{
  day: 20,
  title: "Ce que jâ€™aime chez toi",
  type: "message",
  icon: "âœ¨",
  html: `
    <p>Aujourdâ€™hui, jâ€™avais envie de te dire ce que jâ€™aime chez toi.</p>

    <p>Jâ€™aime :</p>

    <ul style="margin-left:1em;">
      <li>ton rire quand il arrive sans prÃ©venir</li>
      <li>ta faÃ§on de dire les choses, mÃªme quand elles sont simples</li>
      <li>ton regard quand tu es bien</li>
      <li>ton calme</li>
      <li>et ton Ã©nergie quand tu tâ€™amuses</li>
    </ul>

    <p>Il y a plein dâ€™autres choses.</p>

    <p>Mais pour aujourdâ€™hui,
    <strong>Ã§a suffit largement. ğŸ’›</strong></p>
  `
},
{
  day: 21,
  title: "Le feu sous la cendre",
  type: "message",
  icon: "ğŸ”’",
  html: `
    <p>Ces derniers temps,
    je trouve que nos Ã©changes sont plus fluides.</p>

    <p>Plus simples.
    Plus justes.</p>

    <p>On se comprend mieux,
    on se parle plus librement,
    sans tension inutile.</p>

    <p>La passion des dÃ©buts est peut-Ãªtre moins bruyante,
    moins immÃ©diateâ€¦</p>

    <p>Mais elle est toujours lÃ .</p>

    <p><strong>Comme un feu sous la cendre.</strong><br>
    Discret.<br>
    PrÃ©sent.</p>

    <p>Et parfois,
    il suffit de peu de chose
    pour quâ€™il se ravive. ğŸ’›</p>
  `
},
      {
  day: 22,
  title: "Projection douce",
  type: "message",
  icon: "âœ¨",
  html: `
    <p>Je ne sais pas exactement ce que lâ€™avenir nous rÃ©serve.</p>

    <p>Je ne sais pas tout ce quâ€™on fera,<br>
    ni quand,<br>
    ni comment.</p>

    <p>Mais ce que je sais,<br>
    câ€™est que jâ€™aime lâ€™idÃ©e de ce qui vient<br>
    <strong>tant que câ€™est avec toi.</strong></p>

    <p>Sans pression.<br>
    Sans urgence.</p>

    <p>Juste avancer,<br>
    Ã  notre rythme. ğŸ’›</p>
  `
},
{
  day: 23,
  title: "La bande-son de toi",
  type: "message",
  icon: "ğŸµ",
  html: `
    <p>Si je devais associer une musique Ã  ce que jâ€™aime chez toi,<br>
    ce serait celle-ci.</p>

    <p>Pour ton rire.<br>
    Pour ta lÃ©gÃ¨retÃ©.<br>
    Pour ce cÃ´tÃ© un peu gamine que jâ€™adore.</p>

    <p>Pas pour les paroles.<br>
    Pas pour lâ€™histoire.</p>

    <p>Juste pour lâ€™Ã©nergie quâ€™elle dÃ©gage.</p>

    <p><strong>Comme toi. ğŸ¤</strong></p>

    <p>
      <a href="https://open.spotify.com/intl-fr/track/4WBDVbKHiNHmFpPLuBHYdu?si=0e5c82845e9440a6"
         target="_blank" rel="noopener"
         style="
           display:inline-block;
           margin-top:8px;
           padding:6px 12px;
           border-radius:999px;
           background:#b91c1c;
           color:#fefce8;
           font-size:0.85rem;
           text-decoration:none;
         ">
        ğŸµ Ã‰couter la chanson du jour
      </a>
    </p>
  `
},

      {
  day: 24,
  title: "Le dernier cadeau",
  type: "message",
  icon: "ğŸ„",
  html: `
    <p>On y est.</p>

    <p>Le dernier jour.</p>

    <p>Je nâ€™avais pas envie de finir avec quelque chose de trop lisse,
    ni avec des mots qui feraient semblant que tout est simple.</p>

    <p>Parce que parfois,
    nos Ã©changes ne le sont pas.</p>

    <p>Il nous arrive de ne pas nous comprendre,
    de nous croiser sans nous rejoindre complÃ¨tement.</p>

    <p>Mais malgrÃ© Ã§a,
    il y a quelque chose qui reste trÃ¨s fort :
    <strong>lâ€™envie que Ã§a aille mieux.
    Ensemble.</strong></p>

    <p style="margin-top:12px;"><strong>Alors je te laisse choisirâ€¦</strong></p>

    <details style="margin-top:10px; padding:10px 12px; border:1px solid rgba(0,0,0,.12); border-radius:12px;">
      <summary style="cursor:pointer; font-weight:700;">âœ¨ Ce que je ressens</summary>
      <div style="margin-top:10px;">
        <p>Ce que je ressens,
        ce nâ€™est pas une certitude parfaite.</p>

        <p>Câ€™est quelque chose de plus simple,
        mais de plus vrai.</p>

        <p>MÃªme quand on se comprend mal,
        mÃªme quand câ€™est un peu brouillon,
        <strong>jâ€™ai envie de toi dans ma vie.</strong></p>

        <p>Pas pour faire semblant que tout va bien,
        mais pour chercher,
        ajuster,
        faire mieux.</p>

        <p>Parce que malgrÃ© les difficultÃ©s,
        <strong>ce lien-lÃ  compte pour moi.</strong></p>
      </div>
    </details>

    <details style="margin-top:10px; padding:10px 12px; border:1px solid rgba(0,0,0,.12); border-radius:12px;">
      <summary style="cursor:pointer; font-weight:700;">ğŸ¤ Ce que je nous souhaite</summary>
      <div style="margin-top:10px;">
        <p>Ce que je nous souhaite,
        ce nâ€™est pas lâ€™absence de problÃ¨mes.</p>

        <p>Câ€™est dâ€™arriver Ã  nous parler mieux,
        Ã  nous Ã©couter vraiment,
        mÃªme quand ce nâ€™est pas Ã©vident.</p>

        <p>Je nous souhaite de transformer les incomprÃ©hensions
        en discussions,
        et les silences
        en choses dites.</p>

        <p>Pas Ã  pas.
        Ã€ notre rythme.</p>

        <p><strong>Parce que lâ€™envie que Ã§a aille bien est lÃ .
        Et pour moi, Ã§a change tout.</strong></p>
      </div>
    </details>

    <p style="margin-top:14px;"><strong>Joyeux NoÃ«l, ma chÃ©rie. ğŸ’›</strong></p>
  `
}
    ];

    function getTypeLabel(type) {
      switch (type) {
        case "message":
          return "Message du jour";
        case "souvenir":
          return "Souvenir";
        case "defi":
          return "DÃ©fi Ã  deux";
        case "chiens":
          return "Lou & Alaska";
        case "cadeau":
          return "Cadeau immatÃ©riel";
        case "final":
          return "Finale";
        default:
          return "Surprise";
      }
    }

    function getTypeClass(type) {
      switch (type) {
        case "message":
          return "message";
        case "souvenir":
          return "souvenir";
        case "defi":
          return "defi";
        case "chiens":
          return "chiens";
        case "cadeau":
          return "cadeau";
        case "final":
          return "final";
        default:
          return "";
      }
    }

    // Construction du calendrier
    const calendarEl = document.getElementById("calendar");
    const now = new Date();
    const today = now.getDate();
    const isDecember = now.getMonth() === 11; // 0 = janvier, 11 = dÃ©cembre

    daysData.forEach((dayData) => {
      const card = document.createElement("button");
      card.type = "button";
      card.className = "day-card";
      card.setAttribute("data-day", String(dayData.day));

      const typeLabel = getTypeLabel(dayData.type);

      const isLocked = !debugAlwaysOpen && isDecember && dayData.day > today && dayData.day <= 24;

      if (isLocked) {
        card.classList.add("locked");
      }

      card.innerHTML = `
        <div class="day-header">
          <span class="day-number">${dayData.day}</span>
          <span class="day-label">${isLocked ? "BientÃ´t" : "Ouvert"}</span>
        </div>
        <p class="day-title">
          ${isLocked ? "Patienceâ€¦ ta surprise arrive." : dayData.title}
        </p>
        <div class="day-foot">
          <span class="day-type">${isLocked ? "Case encore fermÃ©e" : typeLabel}</span>
          <span class="day-icon">${isLocked ? "ğŸ”’" : (dayData.icon || "âœ¨")}</span>
        </div>
      `;

      if (!isLocked || !isDecember) {
        card.addEventListener("click", () => openModal(dayData));
      }

      calendarEl.appendChild(card);
    });

    // Gestion du modal
    const modalBackdrop = document.getElementById("modalBackdrop");
    const modalCloseBtn = document.getElementById("modalCloseBtn");
    const modalDayLabel = document.getElementById("modalDayLabel");
    const modalTitle = document.getElementById("modalTitle");
    const modalBody = document.getElementById("modalBody");
    const modalTypePill = document.getElementById("modalTypePill");

    function openModal(dayData) {
      modalDayLabel.textContent = `Jour ${dayData.day}`;
      modalTitle.textContent = dayData.title;
      modalBody.innerHTML = dayData.html;
      modalTypePill.textContent = getTypeLabel(dayData.type);
      modalTypePill.className = `pill-type ${getTypeClass(dayData.type)}`;
      modalBackdrop.classList.add("visible");
      modalBackdrop.setAttribute("aria-hidden", "false");
    }

    function closeModal() {
      modalBackdrop.classList.remove("visible");
      modalBackdrop.setAttribute("aria-hidden", "true");
    }

    modalCloseBtn.addEventListener("click", closeModal);
    modalBackdrop.addEventListener("click", (event) => {
      if (event.target === modalBackdrop) {
        closeModal();
      }
    });

    document.addEventListener("keydown", (event) => {
      if (event.key === "Escape" && modalBackdrop.classList.contains("visible")) {
        closeModal();
      }
    });

    // Neige dynamique
    const snowLayer = document.getElementById("snowLayer");

    function createSnowflakes(count = 70) {
      const width = window.innerWidth;

      for (let i = 0; i < count; i++) {
        const flake = document.createElement("div");
        flake.className = "snowflake";
        flake.textContent = Math.random() < 0.3 ? "â†" : (Math.random() < 0.6 ? "â„" : "âœ¼");

        const size = 8 + Math.random() * 14; // 8 Ã  22 px
        const startLeft = Math.random() * width;
        const duration = 10 + Math.random() * 14; // 10 Ã  24 s
        const delay = Math.random() * -duration; // dÃ©calage pour Ã©viter que tout parte en mÃªme temps

        flake.style.fontSize = `${size}px`;
        flake.style.left = `${startLeft}px`;
        flake.style.animationDuration = `${duration}s`;
        flake.style.animationDelay = `${delay}s`;

        snowLayer.appendChild(flake);
      }
    }

    createSnowflakes();
  </script>
</body>
</html>
